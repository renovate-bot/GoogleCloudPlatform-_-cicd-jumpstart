# Copyright 2023-2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This is an example tfvars file. Copy this to terraform.tfvars and adjust the values.

# Required: The Google Cloud Project ID to deploy the resources into.
project_id = "YOUR_PROJECT_ID"

# Networking

# Optional: The name of the Virtual Private Cloud (VPC) network for the workstation. Defaults to "workstations".
#vpc_name = "workstations"

# Optional: The default region for compute resources. Defaults to "us-central1".
#vpc_region = "europe-west1"

# Optional: The name of the Virtual Private Cloud (VPC) sub-network for the workstation in a region. Defaults to "primary".
#subnet_name = "primary"

# Optional: The region for the Secure Source Manager instance, cf. https://cloud.google.com/secure-source-manager/docs/locations. Defaults to "us-central1".
#secure_source_manager_region = "europe-west4"

## Source Control (GitHub & Secure Source Manager)

# Optional: The owner of the GitHub repository (user or organization). Defaults to null.
#github_owner = "YOUR_GITHUB_ORG"

# Optional: The name of the GitHub repository. Defaults to null.
#github_repo = "YOUR_GITHUB_REPO"

# Optional: A regular expression to match GitHub branches that trigger Cloud Build on push. Defaults to "^main$".
#git_branches_regexp_trigger = "^dev$"

# Optional: The name of the Secure Source Manager instance. Defaults to "cicd-foundation".
#secure_source_manager_instance_name = "YOUR_SSM_INSTANCE_NAME"

# Optional: The name of the Secure Source Manager repository. Defaults to "cicd-foundation".
#secure_source_manager_repo_name = "YOUR_SSM_REPO_NAME"

# Optional: The URL of a Git repository to clone into the new Secure Source Manager repository. If null, cloning is skipped. Defaults to "https://github.com/GoogleCloudPlatform/cloud-workstations-custom-image-examples.git".
#secure_source_manager_repo_git_url_to_clone = "https://github.com/GoogleCloudPlatform/cloud-workstations-custom-image-examples.git"

# Optional: The Secure Source Manager (SSM) branch that triggers Cloud Build on push. Defaults to "main".
#git_branch_trigger = "dev"

# Cloud Workstations

# Cloud Workstations Clusters
cws_clusters = {
  "android" = {
    network    = "workstations"  # cf. vpc_name
    region     = "us-central1"   # cf. vpc_region
    subnetwork = "primary"       # cf. subnet_name
  }
}

# Cloud Workstations Configs
cws_configs = {
  "default" = {
    #accelerators = [
    #  {
    #    type  = "nvidia-tesla-t4"
    #    count = 1
    #  }
    #]
    #boot_disk_size_gb = 50  # Defaults to 200
    creators = [
    #  "user1@example.com",
    #  "user2@example.com",
    ]
    custom_image_names = [
      "android-studio",
      "android-studio-for-platform",
      "code-oss",
    ]
    cws_cluster = "android"
    #disable_public_ip_addresses = false  # Defaults to false
    #enable_nested_virtualization = false  # Defaults to true
    #idle_timeout_seconds = 1800  # Defaults to 3600
    #image = "us-central1-docker.pkg.dev/cloud-workstations-images/predefined/code-oss:latest"  # Defaults to null
    #instances = [
    #  {
    #    name  = "user1-ws"
    #    #users = ["user1@example.com"]
    #  },
    #  {
    #    name  = "shared-ws"
    #    #users = ["user1@example.com", "user2@example.com"]
    #  }
    #]
    #machine_type = "e2-standard-4"  # Defaults to "n1-standard-96"
    persistent_disk_fs_type = "ext4"
    persistent_disk_reclaim_policy = "DELETE"
    persistent_disk_size_gb = 200
    #persistent_disk_source_snapshot = null  # Defaults to null
    persistent_disk_type = "pd-ssd"
    #pool_size = 1  # Defaults to 0
  },
}

# Custom images for Cloud Workstations
cws_custom_images = {
  "android-studio" : {
    build = {
      skaffold_path   = "examples/images/android/android-studio"
      timeout_seconds = 7200
      machine_type    = "E2_HIGHCPU_32"
    }
  },
  "android-studio-for-platform" : {
    build = {
      skaffold_path   = "examples/images/android-open-source-project/android-studio-for-platform"
      timeout_seconds = 7200
      machine_type    = "E2_HIGHCPU_32"
    }
  },
  "code-oss" : {
    build = {
      skaffold_path   = "examples/images/android-open-source-project/code-oss"
      timeout_seconds = 7200
      machine_type    = "E2_HIGHCPU_32"
    }
  },
}

## Android Platform Development

android_branches = [
  #"main",
  #"feature2",
  #"user3",
]

android_targets = {
  #"x86-userdebug" : "aosp_cf_x86_64_phone-trunk_staging-userdebug",
  #"arm64-eng" : "aosp_cf_x86_64_phone-trunk_staging-eng",
}
